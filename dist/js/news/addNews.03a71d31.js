import{r as F}from"../role/role.56a83efa.js";import{D as C}from"../index/index.41c9881b.js";import{a as I}from"./news.8f1b56e5.js";import{c as k}from"../newCategory/newCategory.d8bef9d4.js";import{x as D,e as t,l as s,c as B,a4 as r,_ as a,an as m,o as E,u as M,a as V,a2 as q}from"../@vue/@vue.133e0034.js";import{l as p}from"../element-plus/element-plus.8d403dde.js";import{_ as L}from"../../assets/index-30bdac58.js";import"../@element-plus/@element-plus.01e950e2.js";import"../@ctrl/@ctrl.739734d8.js";import"../lodash-es/lodash-es.3689fb67.js";import"../@vueuse/@vueuse.902d2a47.js";import"../@popperjs/@popperjs.d5d3bfa4.js";import"../dayjs/dayjs.aab16a72.js";import"../async-validator/async-validator.124ce023.js";import"../memoize-one/memoize-one.e2e9ba7a.js";import"../escape-html/escape-html.1d60d822.js";import"../normalize-wheel-es/normalize-wheel-es.2d7fa0bb.js";import"../@floating-ui/@floating-ui.c244c5cb.js";import"../vue/vue.b7c74ca4.js";import"../lodash-unified/lodash-unified.917db8bb.js";import"../pinia/pinia.dbd2d364.js";import"../js-cookie/js-cookie.cf83ad76.js";import"../axios/axios.aba6f0e0.js";import"../geotiff/geotiff.41c905a7.js";import"../vue-router/vue-router.aebc008a.js";import"../fuse.js/fuse.js.88e2763d.js";import"../path-browserify/path-browserify.188d1ff8.js";import"../screenfull/screenfull.b3e6dc1f.js";import"../mitt/mitt.f7ef348c.js";import"../nprogress/nprogress.71449f25.js";/* empty css                                 */import"../clipboard/clipboard.860bb701.js";import"../vue-i18n/vue-i18n.dbf743d6.js";import"../@intlify/@intlify.771bffe6.js";import"../xe-utils/xe-utils.ae8f073f.js";import"../vxe-table/vxe-table.548b57f4.js";import"../vue3-lottie/vue3-lottie.24ecfee7.js";import"../lottie-web/lottie-web.c7050559.js";const R={class:"common-layout"},S={class:"flex justify-Start pl-5"},j={__name:"addNews",setup(z,{expose:u}){D(()=>{i(),_()});const _=async()=>{const{data:e}=await k();n.list=e},i=async()=>{const{data:e}=await F(b);f.value=e},f=t([]),d=t(null),l=t(null),g=t(null),n=s({list:[],label:"name",value:"id"}),v=t([{prop:"title",label:"文章标题",rules:[{required:!0,message:"必须输入标题",trigger:"blur"}]},{prop:"coverImage",label:"文章封面",is:"upload"},{prop:"views",label:"点击数量",is:"number"},{prop:"category",is:"select",option:n,label:"文章种类",rules:[{required:!0,message:"必须选择角色",trigger:"blur"}]},{prop:"content",label:"文章内容",is:"textarea"}]),b=s({search:""}),c=s({title:"",coverImage:"",views:1,category:"",content:""}),y=async()=>{if(await l.value.form.validate()){const o=await I(c);o.data?(p.ElMessage({message:o.msg,type:"success"}),i()):p.ElMessage.error(o.msg)}},w=t({});return u({tableItemSelectionRef:d,customFormPwd:g}),(e,o)=>{const x=m("el-button"),N=m("el-main"),h=m("el-container");return E(),B("div",R,[r(h,null,{default:a(()=>[r(N,null,{default:a(()=>[r(M(C),{"form-items":v.value,form:c,rules:w.value,ref_key:"customFormref",ref:l},null,8,["form-items","form","rules"]),V("div",S,[r(x,{type:"primary",onClick:y,size:"large"},{default:a(()=>[q("确定")]),_:1})])]),_:1})]),_:1})])}}};const ht=L(j,[["__scopeId","data-v-34a62491"]]);export{ht as default};
